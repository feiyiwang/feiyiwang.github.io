<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fey's Profile</title>
    <script type="text/javascript" src="static/js/matomo.js"></script>
    <script type="text/javascript" src="static/js/jquery.min.js"></script>
    <script src="static/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="static/css/bootstrap.min.css">
    <link rel="stylesheet" href="static/css/login.css">
    <link rel="stylesheet" href="static/css/base.css">
    <link rel="stylesheet" href="static/css/math.css">
    <script type="text/javascript" src="http://latex.codecogs.com/latexit.js"></script>
    <script>
        var queryString = decodeURIComponent(window.location.search); //parsing
        var queries = queryString.substring(1).split("&");
        $(function(){
            $("#footer").load("template/footer.html");
            $("#name").text("Hi "+queries[0].split("=")[1]+",");
        });
        LatexIT.add('p',true);
    </script>
</head>
<body>
<div>
    <nav class="navbar navbar-default">
        <div class="container-fluid">
            <div class="navbar-header">
                <a class="navbar-brand" href="index.html">FeyÊñê's Little Home&nbsp;&nbsp;</a>
            </div>
            <ul class="nav navbar-nav">
                <li style="display:inline-block;">

                    <a href="profile.html">
                        <img src="icon/profile.png" alt="Profile" style="width:20px;height:20px;">&nbsp;&nbsp;Profile
                    </a>
                </li>
                <li style="display:inline-block;">
                    <a href="projects.html">
                        <img src="icon/project.png" alt="Projects" style="width:20px;height:20px;">&nbsp;&nbsp;Projects
                    </a>
                </li>
                <li style="display:inline-block;">
                    <a href="notebook.html">
                        <img src="icon/note.png" alt="Note" style="width:20px;height:18px;">&nbsp;&nbsp;Notebook
                    </a>
                </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <script type="text/javascript" src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
                <script>
                    function googleTranslateElementInit() {
                        // InlineLayout.HORIZONTAL or .SIMPLE or .vertical
                        new google.translate.TranslateElement({pageLanguage: 'en', layout: google.translate.TranslateElement.InlineLayout.SIMPLE}, 'google_translate_element');
                    }
                </script>
                <li style="display: inline-block;"><div>
                    <button id="btn_logout" class="login-nav">Logout</button>
                </div></li>
                <li style="display: inline-block;"><div style="padding-top: 14px;" id="google_translate_element"></div></li>
                <li style="display: inline-block;">&nbsp;&nbsp;&nbsp;&nbsp;</li>
                <li style="display: inline-block;"><img src="icon/logo.png" alt="Logo" style="width:190px;height:50px;padding-top:3px;">&nbsp;&nbsp;&nbsp;&nbsp;</li>
            </ul>
        </div>
    </nav>
</div>
<div style="width:90%; margin: 0 auto; padding-top: 5px;">
    <h3 id="name"></h3><br>
    <ul class="nav nav-tabs" style="width:100%;">
        <li class="active"><a href="#editNote" data-toggle="tab">Part-of-Speech Tags</a></li>
        <li><a href="#other" data-toggle="tab">Regular Expressions</a></li>
    </ul>
    <div class="tab-content" style="width:100%;">
        <div class="tab-pane active scroll" id="editNote" style="height: 80%">
            <div style="width: 100%; padding: 15px 0; display: inline-block;">
                <div class="col-sm-10">
                    <div class="div_math">
                        <button class="math" value="\times"><img src="static/image/math/x.gif"></button>
                        <button class="math" value="\cdot"><img src="static/image/math/dot.gif"></button>
                        <button class="math" value="\div"><img src="static/image/math/div.gif"></button>
                        <button class="math" value="\neq"><img src="static/image/math/!=.gif"></button>
                        <button class="math" value="\subset"><img src="static/image/math/u.gif"></button>
                        <button class="math" value="\subseteq"><img src="static/image/math/ui.gif"></button>
                        <button class="math" value="\leqslant"><img src="static/image/math/<=.gif"></button>
                        <button class="math" value="\geqslant"><img src="static/image/math/>=.gif"></button>
                        <button class="math" value="\imath"><img src="static/image/math/i.gif"></button>
                        <button class="math" value="\jmath"><img src="static/image/math/j.gif"></button>
                        <button class="math" value="\bigtriangleup"><img src="static/image/math/tri.gif"></button>
                        <button class="math" value="\because"><img src="static/image/math/because.gif"></button>
                        <button class="math" value="\therefore"><img src="static/image/math/therefore.gif"></button>
                    </div>
                    <div class="div_math">
                        <button class="math" value="\mathbb{R}"><img src="static/image/math/R.gif"></button>
                        <button class="math" value="\mathbb{Z}"><img src="static/image/math/Z.gif"></button>
                        <button class="math" value="\mathbb{N}"><img src="static/image/math/N.gif"></button>
                        <button class="math" value="\forall"><img src="static/image/math/A.gif"></button>
                        <button class="math" value="\exists"><img src="static/image/math/E.gif"></button>
                        <button class="math" value="\partial"><img src="static/image/math/partial.gif"></button>
                    </div>
                    <div class="div_math">
                        <button class="math" value="\frac{a}{b}"><img src="static/image/math/a:b.gif"></button>
                        <button class="math" value="a^{b}"><img src="static/image/math/a%5Eb.gif"></button>
                        <button class="math" value="a_{b}"><img src="static/image/math/a_b.gif"></button>
                        <button class="math" value="\widetilde{a}"><img src="static/image/math/tilde.gif"></button>
                        <button class="math" value="\widehat{a}"><img src="static/image/math/hat.gif"></button>
                        <button class="math" value="\sqrt{a}"><img src="static/image/math/a^(1:2).gif"></button>
                        <button class="math" value="\sqrt[b]{a}"><img src="static/image/math/a^(1:b).gif"></button>
                        <button class="math" value="\left ( a \right )"><img src="static/image/math/(a).gif"></button>
                        <button class="math" value="\left { a \right }"><img src="static/image/math/{a}.gif"></button>
                        <button class="math" value="\left \| a \right \|"><img src="static/image/math/%7C%7Ca%7C%7C.gif"></button>
                    </div>
                    <div class="div_math">
                        <button class="math" value="\alpha"><img src="static/image/math/alpha.gif"></button>
                        <button class="math" value="\beta"><img src="static/image/math/beta.gif"></button>
                        <button class="math" value="\gamma"><img src="static/image/math/gamma.gif"></button>
                        <button class="math" value="\delta"><img src="static/image/math/delta.gif"></button>
                        <button class="math" value="\varepsilon"><img src="static/image/math/varepsilon.gif"></button>
                        <!--<button class="math" value="\zeta"><img src="static/image/math/zeta.gif"></button>-->
                        <button class="math" value="\eta"><img src="static/image/math/eta.gif"></button>
                        <button class="math" value="\theta"><img src="static/image/math/theta.gif"></button>
                        <!--<button class="math" value="\iota"><img src="static/image/math/iota.gif"></button>-->
                        <!--<button class="math" value="\kappa"><img src="static/image/math/kappa.gif"></button>-->
                        <button class="math" value="\lambda"><img src="static/image/math/lambda.gif"></button>
                        <button class="math" value="\mu"><img src="static/image/math/mu.gif"></button>
                        <!--<button class="math" value="\nu"><img src="static/image/math/nu.gif"></button>-->
                        <!--<button class="math" value="\xi"><img src="static/image/math/xi.gif"></button>-->
                        <!--<button class="math" value="\omicron"><img src="static/image/math/omicron.gif"></button>-->
                        <button class="math" value="\pi"><img src="static/image/math/pi.gif"></button>
                        <!--<button class="math" value="\rho"><img src="static/image/math/rho.gif"></button>-->
                        <!--<button class="math" value="\sigmaf"><img src="static/image/math/sigmaf.gif"></button>-->
                        <button class="math" value="\sigma"><img src="static/image/math/sigma.gif"></button>
                        <button class="math" value="\tau"><img src="static/image/math/tau.gif"></button>
                        <!--<button class="math" value="\upsilon"><img src="static/image/math/upsilon.gif"></button>-->
                        <button class="math" value="\varphi"><img src="static/image/math/varphi.gif"></button>
                        <button class="math" value="\chi"><img src="static/image/math/chi.gif"></button>
                        <button class="math" value="\psi"><img src="static/image/math/psi.gif"></button>
                        <button class="math" value="\omega"><img src="static/image/math/omega.gif"></button>
                        <!--<button class="math" value="\thetasym"><img src="static/image/math/thetasym.gif"></button>-->
                        <!--<button class="math" value="\upsih"><img src="static/image/math/upsih.gif"></button>-->
                        <!--<button class="math" value="\piv"><img src="static/image/math/piv.gif"></button>-->


                        <!--<button class="math" value="\alpha"><img src="static/image/math/alpha.gif"></button>-->
                        <!--<button class="math" value="\beta"><img src="static/image/math/beta.gif"></button>-->
                        <!--<button class="math" value="\gamma"><img src="static/image/math/gamma.gif"></button>-->
                        <!--<button class="math" value="\delta"><img src="static/image/math/delta.gif"></button>-->
                        <!--<button class="math" value="\epsilon"><img src="static/image/math/epsilon.gif"></button>-->
                        <!--<button class="math" value="\zeta"><img src="static/image/math/zeta.gif"></button>-->
                        <!--<button class="math" value="\eta"><img src="static/image/math/eta.gif"></button>-->
                        <!--<button class="math" value="\theta"><img src="static/image/math/theta.gif"></button>-->
                        <!--<button class="math" value="\iota"><img src="static/image/math/iota.gif"></button>-->
                        <!--<button class="math" value="\kappa"><img src="static/image/math/kappa.gif"></button>-->
                        <!--<button class="math" value="\lambda"><img src="static/image/math/lambda.gif"></button>-->
                        <!--<button class="math" value="\mu"><img src="static/image/math/mu.gif"></button>-->
                        <!--<button class="math" value="\nu"><img src="static/image/math/nu.gif"></button>-->
                        <!--<button class="math" value="\xi"><img src="static/image/math/xi.gif"></button>-->
                        <!--<button class="math" value="\omicron"><img src="static/image/math/omicron.gif"></button>-->
                        <!--<button class="math" value="\pi"><img src="static/image/math/pi.gif"></button>-->
                        <!--<button class="math" value="\rho"><img src="static/image/math/rho.gif"></button>-->
                        <!--<button class="math" value="\sigmaf"><img src="static/image/math/sigmaf.gif"></button>-->
                        <!--<button class="math" value="\sigma"><img src="static/image/math/sigma.gif"></button>-->
                        <!--<button class="math" value="\tau"><img src="static/image/math/tau.gif"></button>-->
                        <!--<button class="math" value="\upsilon"><img src="static/image/math/upsilon.gif"></button>-->
                        <!--<button class="math" value="\phi"><img src="static/image/math/phi.gif"></button>-->
                        <!--<button class="math" value="\chi"><img src="static/image/math/chi.gif"></button>-->
                        <!--<button class="math" value="\psi"><img src="static/image/math/psi.gif"></button>-->
                        <!--<button class="math" value="\omega"><img src="static/image/math/omega.gif"></button>-->
                        <!--<button class="math" value="\thetasym"><img src="static/image/math/thetasym.gif"></button>-->
                        <!--<button class="math" value="\upsih"><img src="static/image/math/upsih.gif"></button>-->
                        <!--<button class="math" value="\piv"><img src="static/image/math/piv.gif"></button>-->
                    </div>
                </div>
                <div class="col-sm-2">
                    <div class="div_math">
                        <button class="big math" value="\begin{bmatrix}a & b & c\\ d & e & f\end{bmatrix}"><img src="static/image/math/mat.gif"></button>
                    </div>
                </div>
            </div>
            <div style="width: 100%; padding: 0 15px">
                <b>Formulation Editor: <a id="clear"> clear the content</a></b><br>
                <input type="text" id="editor" value="" style="width: 100%;margin: 15px 0;border-radius:5px;border: 2px solid #f0ad4e; text-align: center; ">
                <!--<p>Dividing $x^2+1$ by $y^2$ gives <span lang="latex">\frac{a}{b}</span></p>-->
            </div>
            <div style="width: 100%; padding: 0 15px">
                <b>Formulation Display: <a id="save"> save as </a></b>
                <span style="display: inline; color: #336ca9;" >
                    <textarea type="text" id="picName" class="text-pic-name"></textarea>.png
                </span><br>
                <!--<input name="test" id="test" disabled="disabled">-->
                <div class="display">
                    <p id="display"><span lang="latex"></span></p>
                </div>
                <!--<input type="text" value="" style="font-size: 3px; width: 40px; margin: 0;">-->
            </div>
        </div>
        <div class="tab-pane scroll" id="other" style="height: 40%;">

        </div>
    </div>
</div>
<div id="footer"></div>
<script>
    $(function ($, undefined) {
        $.fn.getCursorPosition = function () {
            var el = $(this).get(0);
            var pos = 0;
            if ('selectionStart' in el) {
                pos = el.selectionStart;
            } else if ('selection' in document) {
                el.focus();
                var Sel = document.selection.createRange();
                var SelLength = document.selection.createRange().text.length;
                Sel.moveStart('character', -el.value.length);
                pos = Sel.text.length - SelLength;
            }
            return pos;
        }
    });

    $('#btn_logout').click(function () {
        window.location.href = "index.html"
    });
    $(".math").click(function () {
        var math = $(this).attr("value"), editor = $("#editor");
        var position = editor.getCursorPosition();
        editor.val(editor.val().substr(0, position) + math + editor.val().substr(position));
    });
    $('#clear').click(function () {
        $("#editor").val('');
    });

    $('#save').click(function () {
        var name = $('#picName').val();
        if (name == '') {
            alert('Hey, you need to enter a name first! :)');
        } else {
            var link = document.createElement('a');
            link.href = $("img","span","#display").attr("src");
            link.download = name + ".png";
            document.body.appendChild(link);
            link.click();
        }
    });
    $('#editor').keyup(function () {         //change or keyup
        var math = $(this).val(),
//                img = '<img src="http://latex.codecogs.com/gif.latex?'+math+'" alt="'+math+'" border="0" class="latex">';
                img = '<img src="http://latex.codecogs.com/png.latex?\\LARGE\&space;'+math+'" alt="'+math+'" border="0" class="latex">';
//        alert(math);
        $("span","#display").empty().append(img);
    });
</script>
</body>
